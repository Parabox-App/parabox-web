{"version":3,"file":"button.js","sourceRoot":"","sources":["button.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @requirecss {button.lib.shared_styles}\n *\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '@material/web/icon/icon.js';\nimport '@material/web/focus/focus-ring.js';\nimport '@material/web/ripple/ripple.js';\n\nimport {ActionElement, BeginPressConfig, EndPressConfig} from '@material/web/actionelement/action-element.js';\nimport {ariaProperty} from '@material/web/decorators/aria-property.js';\nimport {pointerPress, shouldShowStrongFocus} from '@material/web/focus/strong-focus.js';\nimport {MdRipple} from '@material/web/ripple/ripple.js';\nimport {ARIAHasPopup} from '@material/web/types/aria.js';\nimport {html as staticHtml, literal} from 'lit/static-html.js';\nimport {html, TemplateResult} from 'lit';\nimport {property, query, queryAssignedElements, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\nimport {ButtonState} from './state.js';\n\n/** @soyCompatible */\nexport abstract class Button extends ActionElement implements ButtonState {\n  static override shadowRootOptions:\n      ShadowRootInit = {mode: 'open', delegatesFocus: true};\n\n  protected readonly iconTag = literal`md-icon`;\n\n  // TODO(b/210730484): replace with @soyParam annotation\n  @property({type: String, attribute: 'data-aria-has-popup', noAccessor: true})\n  @ariaProperty  // tslint:disable-line:no-new-decorators\n  override ariaHasPopup!: ARIAHasPopup;\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: Boolean, attribute: 'trailingicon'}) trailingIcon = false;\n\n  @property({type: String}) icon = '';\n\n  @property({type: String}) label = '';\n\n  // TODO(b/210730484): replace with @soyParam annotation\n  @property({type: String, attribute: 'data-aria-label', noAccessor: true})\n  @ariaProperty  // tslint:disable-line:no-new-decorators\n  override ariaLabel!: string;\n\n  @property({type: Boolean}) hasIcon = false;\n\n  @property({type: Boolean}) preventClickDefault = false;\n\n  @query('.md3-button') buttonElement!: HTMLElement;\n\n  @query('md-ripple') ripple!: MdRipple;\n\n  @state() protected showFocusRing = false;\n\n  @queryAssignedElements({slot: 'icon', flatten: true})\n  protected iconElement!: HTMLElement[]|null;\n\n  /**\n   * @soyTemplate\n   * @soyAttributes buttonAttributes: .md3-button\n   */\n  protected override render(): TemplateResult {\n    return html`\n      <button\n          class=\"md3-button ${classMap(this.getRenderClasses())}\"\n          ?disabled=\"${this.disabled}\"\n          aria-label=\"${ifDefined(this.ariaLabel)}\"\n          aria-haspopup=\"${ifDefined(this.ariaHasPopup)}\"\n          @focus=\"${this.handleFocus}\"\n          @blur=\"${this.handleBlur}\"\n          @pointerdown=\"${this.handlePointerDown}\"\n          @pointerup=\"${this.handlePointerUp}\"\n          @pointercancel=\"${this.handlePointerCancel}\"\n          @pointerleave=\"${this.handlePointerLeave}\"\n          @pointerenter=\"${this.handlePointerEnter}\"\n          @click=\"${this.handleClick}\"\n          @contextmenu=\"${this.handleContextMenu}\">\n        ${this.renderFocusRing()}\n        ${this.renderOverlay()}\n        ${this.renderRipple()}\n        ${this.renderOutline()}\n        ${this.renderTouchTarget()}\n        ${this.renderLeadingIcon()}\n        ${this.renderLabel()}\n        ${this.renderTrailingIcon()}\n      </button>`;\n  }\n\n  /** @soyTemplate */\n  protected getRenderClasses(): ClassInfo {\n    return {\n      'md3-button--icon-leading': !this.trailingIcon && this.hasIcon,\n      'md3-button--icon-trailing': this.trailingIcon && this.hasIcon,\n    };\n  }\n\n  /** @soyTemplate */\n  protected getIconContainerClasses(): ClassInfo {\n    return {\n      'md3-button__icon--leading': !this.trailingIcon,\n      'md3-button__icon--trailing': this.trailingIcon,\n    };\n  }\n\n  /** @soyTemplate */\n  protected renderTouchTarget(): TemplateResult {\n    return html`\n      <span class=\"md3-button__touch\"></span>\n    `;\n  }\n\n  /** @soyTemplate */\n  protected renderOverlay(): TemplateResult {\n    return html``;\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return html`<md-ripple class=\"md3-button__ripple\" ?disabled=\"${\n        this.disabled}\"></md-ripple>`;\n  }\n\n  /** @soyTemplate */\n  protected renderOutline(): TemplateResult {\n    return html``;\n  }\n\n  /** @soyTemplate */\n  protected renderFocusRing(): TemplateResult {\n    return html`<md-focus-ring .visible=\"${\n        this.showFocusRing}\"></md-focus-ring>`;\n  }\n\n  /** @soyTemplate */\n  protected renderLabel(): TemplateResult {\n    return html`<span class=\"md3-button__label\">${this.label}</span>`;\n  }\n\n  /** @soyTemplate */\n  protected renderLeadingIcon(): TemplateResult|string {\n    return this.trailingIcon ? '' : this.renderIcon();\n  }\n\n  /** @soyTemplate */\n  protected renderTrailingIcon(): TemplateResult|string {\n    return this.trailingIcon ? this.renderIcon() : '';\n  }\n\n  /** @soyTemplate */\n  protected renderIcon(): TemplateResult {\n    return html`<span class=\"md3-button__icon-slot-container ${\n        classMap(this.getIconContainerClasses())}\">\n                  <slot name=\"icon\" @slotchange=\"${this.handleSlotChange}\">\n                    ${this.icon ? this.renderFontIcon() : ''}\n                  </slot>\n                </span>`;\n  }\n\n  /** @soyTemplate */\n  protected renderFontIcon(): TemplateResult {\n    return staticHtml`\n    <${this.iconTag} class=\"md3-button__icon\">\n      ${this.icon}\n    </${this.iconTag}>`;\n  }\n\n  override update(changedProperties: Map<string, string>) {\n    super.update(changedProperties);\n    this.hasIcon = !!this.iconElement && this.iconElement.length > 0;\n  }\n\n  // TODO(b/210731759): remove once internal tooling delegates focus\n  override focus() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      buttonElement.focus();\n    }\n  }\n\n  // TODO(b/210731759): remove once internal tooling delegates focus\n  override blur() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      buttonElement.blur();\n    }\n  }\n\n  override beginPress({positionEvent}: BeginPressConfig) {\n    this.ripple.beginPress(positionEvent);\n  }\n\n  override endPress(options: EndPressConfig) {\n    this.ripple.endPress();\n    super.endPress(options);\n  }\n\n  override handlePointerDown(e: PointerEvent) {\n    super.handlePointerDown(e);\n    pointerPress();\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handlePointerEnter(e: PointerEvent) {\n    this.ripple.beginHover(e);\n  }\n\n  override handlePointerLeave(e: PointerEvent) {\n    super.handlePointerLeave(e);\n    this.ripple.endHover();\n  }\n\n  /** Delegate clicks on host element to inner button element. */\n  override click() {\n    this.buttonElement.click();\n  }\n\n  // TODO(b/236044151): Remove when preventDefault supported by L2W\n  override handleClick(e: MouseEvent) {\n    super.handleClick(e);\n    if (this.preventClickDefault) {\n      e.preventDefault();\n    }\n  }\n\n  protected handleFocus() {\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleBlur() {\n    this.showFocusRing = false;\n  }\n\n  protected handleSlotChange() {\n    this.requestUpdate();\n  }\n}\n"]}