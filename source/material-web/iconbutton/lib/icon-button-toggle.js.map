{"version":3,"file":"icon-button-toggle.js","sourceRoot":"","sources":["icon-button-toggle.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ActionElement, BeginPressConfig, EndPressConfig} from '@material/web/actionelement/action-element.js';\nimport {ariaProperty} from '@material/web/decorators/aria-property.js';\nimport {pointerPress, shouldShowStrongFocus} from '@material/web/focus/strong-focus.js';\nimport {MdRipple} from '@material/web/ripple/ripple.js';\nimport {html, TemplateResult} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {html as staticHtml, literal} from 'lit/static-html.js';\n\n/** @soyCompatible */\nexport abstract class IconButtonToggle extends ActionElement {\n  /** @soyPrefixAttribute */\n  @ariaProperty  // tslint:disable-line:no-new-decorators\n  @property({type: String, attribute: 'aria-label'})\n  override ariaLabel!: string;\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: String}) onIcon = '';\n\n  @property({type: String}) offIcon = '';\n\n  // `aria-label` of the button when `on` is true.\n  @property({type: String}) ariaLabelOn!: string;\n\n  // `aria-label` of the button when `on` is false.\n  @property({type: String}) ariaLabelOff!: string;\n\n  @property({type: Boolean, reflect: true}) isOn = false;\n\n  @query('md-ripple') ripple!: MdRipple;\n\n  @state() protected showFocusRing = false;\n\n  protected readonly rippleElementTag = literal`md-ripple`;\n\n  protected readonly focusElementTag = literal`md-focus-ring`;\n\n  protected readonly iconElementTag = literal`md-icon`;\n\n  override beginPress({positionEvent}: BeginPressConfig) {\n    this.ripple.beginPress(positionEvent);\n  }\n\n  override endPress({cancelled}: EndPressConfig) {\n    this.ripple.endPress();\n    if (cancelled) {\n      return;\n    }\n    this.isOn = !this.isOn;\n    const detail = {isOn: this.isOn};\n    this.dispatchEvent(new CustomEvent(\n        'icon-button-toggle-change', {detail, bubbles: true, composed: true}));\n    super.endPress({cancelled, actionData: detail});\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult {\n    return staticHtml`<${this.rippleElementTag} ?disabled=\"${\n        this.disabled}\" unbounded> </${this.rippleElementTag}>`;\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    const hasToggledAriaLabel = this.ariaLabelOn && this.ariaLabelOff;\n    const ariaPressedValue = hasToggledAriaLabel ? undefined : this.isOn;\n    const ariaLabelValue = hasToggledAriaLabel ?\n        (this.isOn ? this.ariaLabelOn : this.ariaLabelOff) :\n        this.ariaLabel;\n    return html`<button\n          class=\"md3-icon-button ${classMap(this.getRenderClasses())}\"\n          aria-pressed=\"${ifDefined(ariaPressedValue)}\"\n          aria-label=\"${ifDefined(ariaLabelValue)}\"\n          ?disabled=\"${this.disabled}\"\n          @focus=\"${this.handleFocus}\"\n          @blur=\"${this.handleBlur}\"\n          @pointerdown=\"${this.handlePointerDown}\"\n          @pointerup=\"${this.handlePointerUp}\"\n          @pointercancel=\"${this.handlePointerCancel}\"\n          @pointerleave=\"${this.handlePointerLeave}\"\n          @pointerenter=\"${this.handlePointerEnter}\"\n          @click=\"${this.handleClick}\"\n          @contextmenu=\"${this.handleContextMenu}\">\n        ${this.renderFocusRing()}\n        ${this.renderRipple()}\n        ${this.renderTouchTarget()}\n        <span class=\"md3-icon-button__icon\">\n          <slot name=\"offIcon\">${this.renderIcon(this.offIcon)}</slot>\n        </span>\n        <span class=\"md3-icon-button__icon md3-icon-button__icon--on\">\n          <slot name=\"onIcon\">${this.renderIcon(this.onIcon)}</slot>\n        </span>\n      </button>`;\n  }\n\n  /** @soyTemplate */\n  protected getRenderClasses(): ClassInfo {\n    return {\n      'md3-icon-button--on': this.isOn,\n    };\n  }\n\n  /** @soyTemplate */\n  protected renderIcon(icon: string): TemplateResult|string {\n    return icon ?\n        staticHtml`<${this.iconElementTag}>${icon}</${this.iconElementTag}>` :\n        '';\n  }\n\n  /** @soyTemplate */\n  protected renderTouchTarget(): TemplateResult {\n    return html`<span class=\"md3-icon-button__touch\"></span>`;\n  }\n\n  /** @soyTemplate */\n  protected renderFocusRing(): TemplateResult {\n    return staticHtml`<${this.focusElementTag} .visible=\"${\n        this.showFocusRing}\"></${this.focusElementTag}>`;\n  }\n\n  override handlePointerDown(e: PointerEvent) {\n    super.handlePointerDown(e);\n    pointerPress();\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handlePointerEnter(e: PointerEvent) {\n    this.ripple.beginHover(e);\n  }\n\n  override handlePointerLeave(e: PointerEvent) {\n    super.handlePointerLeave(e);\n    this.ripple.endHover();\n  }\n\n  protected handleFocus() {\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleBlur() {\n    this.showFocusRing = false;\n  }\n}\n"]}