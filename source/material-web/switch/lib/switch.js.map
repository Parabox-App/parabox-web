{"version":3,"file":"switch.js","sourceRoot":"","sources":["switch.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '@material/web/focus/focus-ring.js';\n\nimport {ActionElement, EndPressConfig} from '@material/web/actionelement/action-element.js';\nimport {ariaProperty as legacyAriaProperty} from '@material/web/compat/base/aria-property.js';  // TODO(b/236840525): remove compat dependencies\nimport {FormController, getFormValue} from '@material/web/controller/form-controller.js';\nimport {ariaProperty} from '@material/web/decorators/aria-property.js';\nimport {pointerPress as focusRingPointerPress, shouldShowStrongFocus} from '@material/web/focus/strong-focus.js';\nimport {html, TemplateResult} from 'lit';\nimport {eventOptions, property, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class Switch extends ActionElement {\n  static override shadowRootOptions:\n      ShadowRootInit = {mode: 'open', delegatesFocus: true};\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n  @property({type: Boolean}) processing = false;\n  @property({type: Boolean}) selected = false;\n  @property({type: Boolean}) icons = false;\n  @property({type: Boolean}) showOnlySelectedIcon = false;\n\n  // Aria\n  @ariaProperty  // tslint:disable-line:no-new-decorators\n  // TODO(b/210730484): replace with @soyParam annotation\n  @property({type: String, attribute: 'data-aria-label', noAccessor: true})\n  override ariaLabel!: string;\n\n  // TODO: Add support in @ariaProperty for idref aria attributes\n  /** @soyPrefixAttribute */\n  @legacyAriaProperty  // tslint:disable-line:no-new-decorators\n  @property({type: String, attribute: 'aria-labelledby'})\n  ariaLabelledBy = '';\n\n  @state() protected showFocusRing = false;\n\n  // FormController\n  get form() {\n    return this.closest('form');\n  }\n  @property({type: String, reflect: true}) name = '';\n  @property({type: String}) value = 'on';\n  [getFormValue]() {\n    return this.selected ? this.value : null;\n  }\n\n  constructor() {\n    super();\n    this.addController(new FormController(this));\n  }\n\n  override click() {\n    this.endPress({cancelled: false});\n    super.click();\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    const ariaLabelValue = this.ariaLabel ? this.ariaLabel : undefined;\n    const ariaLabelledByValue =\n        this.ariaLabelledBy ? this.ariaLabelledBy : undefined;\n    // TODO(b/230763631): update this template to include spans instead of divs\n    return html`\n      <button\n        type=\"button\"\n        class=\"md3-switch ${classMap(this.getRenderClasses())}\"\n        role=\"switch\"\n        aria-checked=\"${this.selected}\"\n        aria-label=\"${ifDefined(ariaLabelValue)}\"\n        aria-labelledby=\"${ifDefined(ariaLabelledByValue)}\"\n        ?disabled=${this.disabled}\n        @click=${this.handleClick}\n        @focus=\"${this.handleFocus}\"\n        @blur=\"${this.handleBlur}\"\n        @pointerdown=${this.handlePointerDown}\n        @pointerup=${this.handlePointerUp}\n        @pointercancel=${this.handlePointerCancel}\n        @pointerleave=${this.handlePointerLeave}\n        @contextmenu=${this.handleContextMenu}\n      >\n        ${this.renderFocusRing()}\n        <div class=\"md3-switch__track\">\n          ${this.renderHandle()}\n        </div>\n      </button>\n\n      <input\n        class=\"md3-switch__input\"\n        type=\"checkbox\"\n        aria-hidden=\"true\"\n        name=\"${this.name}\"\n        ?checked=${this.selected}\n        .value=${this.value}\n      >\n    `;\n  }\n\n  /** @soyTemplate */\n  protected getRenderClasses(): ClassInfo {\n    return {\n      'md3-switch--processing': this.processing,\n      'md3-switch--selected': this.selected,\n      'md3-switch--unselected': !this.selected,\n    };\n  }\n\n  /** @soyTemplate */\n  protected renderFocusRing(): TemplateResult {\n    return html`<md-focus-ring .visible=\"${\n        this.showFocusRing}\"></md-focus-ring>`;\n  }\n\n  /** @soyTemplate */\n  protected renderHandle(): TemplateResult {\n    /** @classMap */\n    const classes = {\n      'md3-switch__handle--big': this.icons && !this.showOnlySelectedIcon,\n    };\n    return html`\n      <div class=\"md3-switch__handle-container\">\n        <div class=\"md3-switch__handle ${classMap(classes)}\">\n          ${this.shouldShowIcons() ? this.renderIcons() : html``}\n        </div>\n        ${this.renderTouchTarget()}\n      </div>\n    `;\n  }\n\n  /** @soyTemplate */\n  private renderIcons(): TemplateResult {\n    return html`\n      <div class=\"md3-switch__icons\">\n        ${this.renderOnIcon()}\n        ${this.showOnlySelectedIcon ? html`` : this.renderOffIcon()}\n      </div>\n    `;\n  }\n\n  /**\n   * https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Acheck%3AFILL%400%3Bwght%40500%3BGRAD%400%3Bopsz%4024\n   *\n   * @soyTemplate\n   */\n  protected renderOnIcon(): TemplateResult {\n    return html`\n      <svg class=\"md3-switch__icon md3-switch__icon--on\" viewBox=\"0 0 24 24\">\n        <path d=\"M9.55 18.2 3.65 12.3 5.275 10.675 9.55 14.95 18.725 5.775 20.35 7.4Z\"/>\n      </svg>\n    `;\n  }\n\n  /**\n   * https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aclose%3AFILL%400%3Bwght%40500%3BGRAD%400%3Bopsz%4024\n   *\n   * @soyTemplate\n   */\n  protected renderOffIcon(): TemplateResult {\n    return html`\n      <svg class=\"md3-switch__icon md3-switch__icon--off\" viewBox=\"0 0 24 24\">\n        <path d=\"M6.4 19.2 4.8 17.6 10.4 12 4.8 6.4 6.4 4.8 12 10.4 17.6 4.8 19.2 6.4 13.6 12 19.2 17.6 17.6 19.2 12 13.6Z\"/>\n      </svg>\n    `;\n  }\n\n  /** @soyTemplate */\n  private renderTouchTarget(): TemplateResult {\n    return html`<span class=\"md3-switch__touch\"></span>`;\n  }\n\n  /** @soyTemplate */\n  private shouldShowIcons(): boolean {\n    return this.icons || this.showOnlySelectedIcon;\n  }\n\n  override endPress({cancelled}: EndPressConfig) {\n    if (cancelled || this.disabled) {\n      return;\n    }\n\n    this.selected = !this.selected;\n    super.endPress({cancelled, actionData: {selected: this.selected}});\n  }\n\n  protected handleFocus() {\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleBlur() {\n    this.showFocusRing = false;\n  }\n\n  @eventOptions({passive: true})\n  override handlePointerDown(event: PointerEvent) {\n    super.handlePointerDown(event);\n    focusRingPointerPress();\n    this.showFocusRing = false;\n  }\n}\n"]}